<!-- country-card.ejs -->
<div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-duration="700">
  <div class="card h-100 shadow-sm border-0">
    <img src="<%= country.flags.svg %>" class="card-img-top" alt="Flag of <%= country.name.common %>" class="flag-img">
    <div class="card-body">
      <h5 class="card-title fw-bold text-dark" style="font-family: 'Playfair Display', serif;"><%= country.name.common %></h5>

      <p><strong>Official Name:</strong> <%= country.name.official %></p>

      <p><strong>Native Name(s):</strong>
        <% if (country.name.nativeName) { %>
          <% Object.values(country.name.nativeName).forEach(native => { %>
            <%= native.common %> (<%= native.official %>)<br>
          <% }) %>
        <% } else { %> N/A <% } %>
      </p>

      <% if (country.coatOfArms && country.coatOfArms.svg) { %>
        <img src="<%= country.coatOfArms.svg %>" class="img-fluid my-2" alt="Coat of Arms" style="max-height: 100px; object-fit: contain;">
      <% } %>

      <p><strong>Capital:</strong> <%= country.capital ? country.capital[0] : 'N/A' %></p>
      <p><strong>Region:</strong> <%= country.region %> 🌍</p>
      <p><strong>Subregion:</strong> <%= country.subregion %></p>
      <p><strong>Languages:</strong> <%= Object.values(country.languages || {}).join(', ') %></p>
      <p><strong>Population:</strong> <%= country.population.toLocaleString() %></p>
      <p><strong>Area:</strong> <%= country.area.toLocaleString() %> km²</p>
      <p><strong>Landlocked:</strong> <%= country.landlocked ? 'Yes' : 'No' %></p>
      <p><strong>Independent:</strong> <%= country.independent ? 'Yes' : 'No' %></p>
      <p><strong>UN Member:</strong> <%= country.unMember ? 'Yes' : 'No' %></p>

      <p><strong>Currencies:</strong>
        <% if (country.currencies) { %>
          <% Object.entries(country.currencies).forEach(([code, currency]) => { %>
            <%= currency.name %> (<%= code %>, <%= currency.symbol %>)<br>
          <% }) %>
        <% } else { %> N/A <% } %>
      </p>

      <p><strong>TLD:</strong> <%= country.tld ? country.tld.join(', ') : 'N/A' %></p>
      <p><strong>Calling Code:</strong> <%= country.idd ? country.idd.root + (country.idd.suffixes ? country.idd.suffixes.join(', ') : '') : 'N/A' %></p>
      <p><strong>Alt Spellings:</strong> <%= country.altSpellings ? country.altSpellings.join(', ') : 'N/A' %></p>

      <p><strong>Demonyms:</strong>
        <% if (country.demonyms && country.demonyms.eng) { %>
          👨 <%= country.demonyms.eng.m %>, 👩 <%= country.demonyms.eng.f %>
        <% } else { %> N/A <% } %>
      </p>

      <p><strong>FIFA Code:</strong> <%= country.fifa || 'N/A' %></p>
      <p><strong>Car Signs:</strong> <%= country.car?.signs?.join(', ') || 'N/A' %></p>
      <p><strong>Drives On:</strong> <%= country.car?.side || 'N/A' %></p>
      <p><strong>Timezones:</strong> <%= country.timezones?.join(', ') || 'N/A' %></p>
      <p><strong>Continents:</strong> <%= country.continents?.join(', ') || 'N/A' %></p>

      <% if (country.latlng?.length >= 2) { %>
        <p><strong>Latitude:</strong> <%= country.latlng[0] %>°</p>
        <p><strong>Longitude:</strong> <%= country.latlng[1] %>°</p>
      <% } else { %>
        <p><strong>Coordinates:</strong> N/A</p>
      <% } %>

      <p><strong>Week Starts On:</strong> <%= country.startOfWeek ? country.startOfWeek.charAt(0).toUpperCase() + country.startOfWeek.slice(1) : 'N/A' %></p>
      <p><strong>Postal Format:</strong> <%= country.postalCode?.format || 'N/A' %></p>

      <p><strong>Maps:</strong>
        <a href="<%= country.maps.googleMaps %>" target="_blank" class="cozy-map-link">Google</a> |
        <a href="<%= country.maps.openStreetMaps %>" target="_blank" class="cozy-map-link">OSM</a>
      </p>
    </div>
  </div>
</div>
